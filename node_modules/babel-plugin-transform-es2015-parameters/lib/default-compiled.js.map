{"version":3,"sources":["default.js"],"names":[],"mappings":"wBAAwB;;AAExB,QAAQ,UAAR,GAAqB,IAArB;AACA,QAAQ,OAAR,GAAkB,SAAlB;;AAEA,IAAI,gBAAgB,QAAQ,oCAAR,CAApB;;AAEA,IAAI,gBAAgB,uBAAuB,aAAvB,CAApB;;AAEA,I,wBAA4B,+BAA+B,QAAQ,iCAAR,CAA3D;;;AAGA,IAAI,gCAAgC,uBAAuB,4BAAvB,CAApC;;AAEA,I,wBAA4B,2BAA2B,QAAQ,4BAAR,CAAvD;;;AAGA,IAAI,4BAA4B,uBAAuB,wBAAvB,CAAhC;;AAEA,I,wBAA4B,iBAAiB,QAAQ,gBAAR,CAA7C;;;AAGA,IAAI,kBAAkB,uBAAuB,cAAvB,CAAtB;;AAEA,I,wBAA4B,cAAc,QAAQ,aAAR,CAA1C;;;AAGA,IAAI,IAAI,wBAAwB,WAAxB,CAAR;;;AAGA,SAAS,uBAAT,CAAiC,GAAjC,EAAsC;AAAE,MAAI,OAAO,IAAI,UAAf,EAA2B;AAAE,WAAO,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAI,SAAS,EAAb,CAAiB,IAAI,OAAO,IAAX,EAAiB;AAAE,WAAK,IAAI,GAAT,IAAgB,GAAhB,EAAqB;AAAE,YAAI,OAAO,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,GAArC,EAA0C,GAA1C,CAAJ,EAAoD,OAAO,GAAP,IAAc,IAAI,GAAJ,CAAd;AAAyB;AAAE,KAAC,OAAO,OAAP,GAAiB,GAAjB,CAAsB,OAAO,MAAP;AAAgB;AAAE;;AAE7Q,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,SAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;;;AAI/F,IAAI,oB,wBAA4C,CAAC,GAAG,gBAAgB,OAApB,E,yBAAsD,wKAAtD,CAAhD;;AAEA,IAAI,0B,wBAAkD,CAAC,GAAG,gBAAgB,OAApB,E,yBAAsD,uEAAtD,CAAtD;;AAEA,IAAI,c,wBAAsC,CAAC,GAAG,gBAAgB,OAApB,E,yBAAsD,wBAAtD,CAA1C;;AAEA,SAAS,WAAT,CAAqB,IAArB,EAA2B;AACzB,O,yBAA8B,IAAI,YAAY,KAAK,MAArB,EAA6B,WAAW,MAAM,OAAN,CAAc,SAAd,CAAxC,EAAkE,KAAK,CAAvE,EAA0E,YAAY,WAAW,SAAX,GAAuB,CAAC,GAAG,cAAc,OAAlB,EAA2B,SAA3B,CAA3I,IAAoL;;AAElL,QAAI,IAAJ;;AAEA,QAAI,QAAJ,EAAc;AACZ,UAAI,MAAM,UAAU,MAApB,EAA4B;AAC5B,aAAO,UAAU,IAAV,CAAP;AACD,KAHD,MAGO;AACL,WAAK,UAAU,IAAV,EAAL;AACA,UAAI,GAAG,IAAP,EAAa;AACb,aAAO,GAAG,KAAV;AACD;;AAED,QAAI,QAAQ,IAAZ;;AAEA,QAAI,CAAC,EAAE,YAAF,CAAe,KAAf,CAAL,EAA4B,OAAO,IAAP;AAC7B;AACD,SAAO,KAAP;AACD;;AAED,IAAI,cAAc,E;AAChB,wBAAsB,SAAS,oBAAT,CAA8B,IAA9B,EAAoC,KAApC,EAA2C;AAC/D,QAAI,OAAO,KAAK,IAAL,CAAU,IAArB;AACA,QAAI,SAAS,MAAT,IAAmB,KAAK,KAAL,CAAW,aAAX,CAAyB,IAAzB,KAAkC,KAAK,KAAL,CAAW,aAAX,CAAyB,IAAzB,EAA+B,IAA/B,KAAwC,OAAjG,EAA0G;AACxG,YAAM,IAAN,GAAa,IAAb;AACA,WAAK,IAAL;AACD;AACF,GAPe;0BAQQ,OAAO,SAAS,KAAT,CAAe,IAAf,EAAqB;;AAElD,SAAK,IAAL;AACD;AAXe,CAAlB;;AAcA,IAAI,U,wBAAkC,QAAQ,OAAR,GAAkB,E;AACtD,YAAU,SAAS,QAAT,CAAkB,IAAlB,EAAwB;4BACR,IAAI,OAAO,KAAK,IAAhB;4BACA,IAAI,QAAQ,KAAK,KAAjB;;AAExB,QAAI,CAAC,YAAY,IAAZ,CAAL,EAAwB;;;AAGxB,SAAK,WAAL;;AAEA,QAAI,QAAQ;AACV,YAAM,KADI;AAEV,aAAO;AAFG,KAAZ;;AAKA,QAAI,OAAO,EAAX;;;AAGA,QAAI,iBAAiB,EAAE,UAAF,CAAa,WAAb,CAArB;AACA,mBAAe,wBAAf,GAA0C,IAA1C;;;AAGA,aAAS,WAAT,CAAqB,IAArB,EAA2B,KAA3B,EAAkC,CAAlC,EAAqC;AACnC,UAAI,U,wBAAkC,KAAK,CAA3C;AACA,UAAI,sBAAsB,CAAtB,KAA4B,EAAE,SAAF,CAAY,IAAZ,CAAhC,EAAmD;AACjD,kBAAU,kBAAkB;AAC1B,yBAAe,IADW;AAE1B,yBAAe,KAFW;AAG1B,wBAAc,EAAE,cAAF,CAAiB,CAAjB,CAHY;AAI1B,qBAAW;AAJe,SAAlB,CAAV;AAMD,OAPD,MAOO;AACL,kBAAU,wBAAwB;AAChC,yBAAe,IADiB;AAEhC,yBAAe;AAFiB,SAAxB,CAAV;AAID;AACD,cAAQ,WAAR,GAAsB,KAAK,MAAL,CAAY,MAAZ,GAAqB,CAA3C;AACA,WAAK,IAAL,CAAU,OAAV;AACD;;;AAGD,aAAS,qBAAT,CAA+B,CAA/B,EAAkC;AAChC,aAAO,IAAI,CAAJ,GAAQ,mBAAf;AACD;;;AAGD,QAAI,sB,wBAA8C,CAAC,GAAG,8BAA8B,OAAlC,EAA2C,IAA3C,CAAlD;;;AAGA,QAAI,SAAS,KAAK,GAAL,CAAS,QAAT,CAAb;AACA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,OAAO,MAA3B,EAAmC,GAAnC,EAAwC;AACtC,UAAI,QAAQ,OAAO,CAAP,CAAZ;;AAEA,UAAI,CAAC,MAAM,mBAAN,EAAL,EAAkC;AAChC,YAAI,CAAC,MAAM,YAAN,EAAL,EAA2B;AACzB,gBAAM,QAAN,CAAe,WAAf,EAA4B,KAA5B;AACD;;AAED;AACD;;AAED,UAAI,OAAO,MAAM,GAAN,CAAU,MAAV,CAAX;AACA,UAAI,QAAQ,MAAM,GAAN,CAAU,OAAV,CAAZ;;;AAGA,UAAI,sBAAsB,CAAtB,KAA4B,KAAK,SAAL,EAAhC,EAAkD;AAChD,YAAI,cAAc,MAAM,qBAAN,CAA4B,GAA5B,CAAlB;AACA,oBAAY,qBAAZ,GAAoC,IAApC;AACA,aAAK,MAAL,CAAY,CAAZ,IAAiB,WAAjB;AACD,OAJD,MAIO;AACL,aAAK,MAAL,CAAY,CAAZ,IAAiB,KAAK,IAAtB;AACD;;;AAGD,UAAI,CAAC,MAAM,IAAX,EAAiB;AACf,YAAI,MAAM,YAAN,MAAwB,MAAM,aAAN,CAAoB,MAAM,IAAN,CAAW,IAA/B,CAAxB,IAAgE,MAAM,aAAN,CAAoB,MAAM,IAAN,CAAW,IAA/B,EAAqC,IAArC,KAA8C,OAAlH,EAA2H;;AAEzH,gBAAM,IAAN,GAAa,IAAb;AACD,SAHD,MAGO;AACL,gBAAM,QAAN,CAAe,WAAf,EAA4B,KAA5B;AACD;AACF;;AAED,kBAAY,KAAK,IAAjB,EAAuB,MAAM,IAA7B,EAAmC,CAAnC;AACD;;;AAGD,SAAK,IAAI,MAAM,sBAAsB,CAArC,EAAwC,MAAM,KAAK,MAAL,CAAY,MAA1D,EAAkE,KAAlE,EAAyE;AACvE,UAAI,SAAS,KAAK,MAAL,CAAY,GAAZ,CAAb;AACA,UAAI,OAAO,qBAAX,EAAkC;;AAElC,UAAI,SAAS,YAAY,MAAZ,EAAoB,cAApB,EAAoC,EAAE,cAAF,CAAiB,GAAjB,CAApC,CAAb;AACA,aAAO,WAAP,GAAqB,KAAK,MAAL,CAAY,MAAZ,GAAqB,GAA1C;AACA,WAAK,IAAL,CAAU,MAAV;AACD;;;AAGD,SAAK,MAAL,GAAc,KAAK,MAAL,CAAY,KAAZ,CAAkB,CAAlB,EAAqB,mBAArB,CAAd;;AAEA,QAAI,MAAM,IAAV,EAAgB;AACd,WAAK,IAAL,C,yBAAmC,CAAC,GAAG,0BAA0B,OAA9B,EAAuC,IAAvC,EAA6C,KAA7C,CAAnC;AACA,WAAK,GAAL,CAAS,MAAT,EAAiB,EAAE,cAAF,CAAiB,IAAjB,CAAjB;AACD,KAHD,MAGO;AACL,WAAK,GAAL,CAAS,MAAT,EAAiB,gBAAjB,CAAkC,MAAlC,EAA0C,IAA1C;AACD;AACF;AA1GqD,CAAxD","file":"default-compiled.js","sourcesContent":["/*istanbul ignore next*/\"use strict\";\n\nexports.__esModule = true;\nexports.visitor = undefined;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar /*istanbul ignore next*/_babelHelperGetFunctionArity = require(\"babel-helper-get-function-arity\");\n\n/*istanbul ignore next*/\nvar _babelHelperGetFunctionArity2 = _interopRequireDefault(_babelHelperGetFunctionArity);\n\nvar /*istanbul ignore next*/_babelHelperCallDelegate = require(\"babel-helper-call-delegate\");\n\n/*istanbul ignore next*/\nvar _babelHelperCallDelegate2 = _interopRequireDefault(_babelHelperCallDelegate);\n\nvar /*istanbul ignore next*/_babelTemplate = require(\"babel-template\");\n\n/*istanbul ignore next*/\nvar _babelTemplate2 = _interopRequireDefault(_babelTemplate);\n\nvar /*istanbul ignore next*/_babelTypes = require(\"babel-types\");\n\n/*istanbul ignore next*/\nvar t = _interopRequireWildcard(_babelTypes);\n\n/*istanbul ignore next*/\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint max-len: 0 */\n\nvar buildDefaultParam = /*istanbul ignore next*/(0, _babelTemplate2.default)( /*istanbul ignore next*/\"\\n  let VARIABLE_NAME =\\n    ARGUMENTS.length <= ARGUMENT_KEY || ARGUMENTS[ARGUMENT_KEY] === undefined ?\\n      DEFAULT_VALUE\\n    :\\n      ARGUMENTS[ARGUMENT_KEY];\\n\");\n\nvar buildDefaultParamAssign = /*istanbul ignore next*/(0, _babelTemplate2.default)( /*istanbul ignore next*/\"\\n  if (VARIABLE_NAME === undefined) VARIABLE_NAME = DEFAULT_VALUE;\\n\");\n\nvar buildCutOff = /*istanbul ignore next*/(0, _babelTemplate2.default)( /*istanbul ignore next*/\"\\n  let $0 = $1[$2];\\n\");\n\nfunction hasDefaults(node) {\n  for ( /*istanbul ignore next*/var _iterator = node.params, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n    /*istanbul ignore next*/\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var param = _ref;\n\n    if (!t.isIdentifier(param)) return true;\n  }\n  return false;\n}\n\nvar iifeVisitor = { /*istanbul ignore next*/\n  ReferencedIdentifier: function ReferencedIdentifier(path, state) {\n    var name = path.node.name;\n    if (name === \"eval\" || path.scope.hasOwnBinding(name) && path.scope.getOwnBinding(name).kind !== \"param\") {\n      state.iife = true;\n      path.stop();\n    }\n  },\n  /*istanbul ignore next*/Scope: function Scope(path) {\n    // different bindings\n    path.skip();\n  }\n};\n\nvar visitor = /*istanbul ignore next*/exports.visitor = { /*istanbul ignore next*/\n  Function: function Function(path) {\n    /*istanbul ignore next*/var node = path.node;\n    /*istanbul ignore next*/var scope = path.scope;\n\n    if (!hasDefaults(node)) return;\n\n    // ensure it's a block, useful for arrow functions\n    path.ensureBlock();\n\n    var state = {\n      iife: false,\n      scope: scope\n    };\n\n    var body = [];\n\n    //\n    var argsIdentifier = t.identifier(\"arguments\");\n    argsIdentifier._shadowedFunctionLiteral = path;\n\n    // push a default parameter definition\n    function pushDefNode(left, right, i) {\n      var defNode = /*istanbul ignore next*/void 0;\n      if (exceedsLastNonDefault(i) || t.isPattern(left)) {\n        defNode = buildDefaultParam({\n          VARIABLE_NAME: left,\n          DEFAULT_VALUE: right,\n          ARGUMENT_KEY: t.numericLiteral(i),\n          ARGUMENTS: argsIdentifier\n        });\n      } else {\n        defNode = buildDefaultParamAssign({\n          VARIABLE_NAME: left,\n          DEFAULT_VALUE: right\n        });\n      }\n      defNode._blockHoist = node.params.length - i;\n      body.push(defNode);\n    }\n\n    // check if an index exceeds the functions arity\n    function exceedsLastNonDefault(i) {\n      return i + 1 > lastNonDefaultParam;\n    }\n\n    //\n    var lastNonDefaultParam = /*istanbul ignore next*/(0, _babelHelperGetFunctionArity2.default)(node);\n\n    //\n    var params = path.get(\"params\");\n    for (var i = 0; i < params.length; i++) {\n      var param = params[i];\n\n      if (!param.isAssignmentPattern()) {\n        if (!param.isIdentifier()) {\n          param.traverse(iifeVisitor, state);\n        }\n\n        continue;\n      }\n\n      var left = param.get(\"left\");\n      var right = param.get(\"right\");\n\n      //\n      if (exceedsLastNonDefault(i) || left.isPattern()) {\n        var placeholder = scope.generateUidIdentifier(\"x\");\n        placeholder._isDefaultPlaceholder = true;\n        node.params[i] = placeholder;\n      } else {\n        node.params[i] = left.node;\n      }\n\n      //\n      if (!state.iife) {\n        if (right.isIdentifier() && scope.hasOwnBinding(right.node.name) && scope.getOwnBinding(right.node.name).kind !== \"param\") {\n          // the right hand side references a parameter\n          state.iife = true;\n        } else {\n          right.traverse(iifeVisitor, state);\n        }\n      }\n\n      pushDefNode(left.node, right.node, i);\n    }\n\n    // add declarations for trailing parameters\n    for (var _i2 = lastNonDefaultParam + 1; _i2 < node.params.length; _i2++) {\n      var _param = node.params[_i2];\n      if (_param._isDefaultPlaceholder) continue;\n\n      var declar = buildCutOff(_param, argsIdentifier, t.numericLiteral(_i2));\n      declar._blockHoist = node.params.length - _i2;\n      body.push(declar);\n    }\n\n    // we need to cut off all trailing parameters\n    node.params = node.params.slice(0, lastNonDefaultParam);\n\n    if (state.iife) {\n      body.push( /*istanbul ignore next*/(0, _babelHelperCallDelegate2.default)(path, scope));\n      path.set(\"body\", t.blockStatement(body));\n    } else {\n      path.get(\"body\").unshiftContainer(\"body\", body);\n    }\n  }\n};"]}