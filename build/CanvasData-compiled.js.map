{"version":3,"sources":["CanvasData.js"],"names":[],"mappings":"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","file":"CanvasData-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Lyle Denman on 5/20/16.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n/************************/\n/*** CanvasState class **/\n/************************/\n\n\nvar _Square = require('./Square');\n\nvar _Square2 = _interopRequireDefault(_Square);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CanvasState = function () {\n  function CanvasState(canvas, numRows, squareDim) {\n    _classCallCheck(this, CanvasState);\n\n    this.canvas = canvas;\n    this.numRows = numRows;\n    this.squareDim = squareDim;\n    this.shapes = []; // Store the shapes drawn to the canvas\n    this.listenMousedown();\n    this.ctx = canvas.getContext('2d');\n  }\n\n  _createClass(CanvasState, [{\n    key: 'listenMousedown',\n    value: function listenMousedown() {\n      var _this = this;\n\n      this.canvas.addEventListener('mousedown', function (e) {\n        var mouse = CanvasState.getMouse(e);\n        var mx = mouse.x;\n        var my = mouse.y;\n\n        var shapeIndex = _this.getShapeIndexAt(mx, my);\n        if (shapeIndex != -1) {\n          var mirrorIndex = CanvasState.getMirror(shapeIndex, _this.numRows);\n\n          if (mirrorIndex != shapeIndex) {\n            // If numRows is odd, a shape in the center column has itself as a mirror\n            // So no need to flipColor() twice\n            CanvasState.flipColor(_this.shapes[mirrorIndex]);\n          }\n          CanvasState.flipColor(_this.shapes[shapeIndex]);\n          _this.ctx.clearRect(0, 0, _this.canvas.width, _this.canvas.height); // clear canvas\n          _this.drawSquares(); // draw board\n        }\n      });\n    }\n  }, {\n    key: 'createSquares',\n    value: function createSquares() {\n      var count = 0;\n      for (var x = 0; x < this.canvas.width; x += this.squareDim) {\n        for (var y = 0; y < this.canvas.height; y += this.squareDim) {\n          this.shapes[count] = new _Square2.default(x, y, this.squareDim);\n          count++;\n        }\n      }\n    }\n  }, {\n    key: 'drawSquares',\n    value: function drawSquares() {\n      for (var i = 0; i < this.shapes.length; i++) {\n        if (this.shapes[i] !== undefined) {\n          this.shapes[i].draw(this.ctx);\n        }\n      }\n    }\n  }, {\n    key: 'getShapeIndexAt',\n    value: function getShapeIndexAt(x, y) {\n      for (var i = 0; i < this.shapes.length; i++) {\n        if (this.shapes[i] !== undefined) {\n          if (x >= this.shapes[i].x && x < this.shapes[i].x + this.squareDim) {\n            if (y >= this.shapes[i].y && y < this.shapes[i].y + this.squareDim) {\n              return i;\n            }\n          }\n        }\n      }\n      return -1; // Error: no shape found\n    }\n  }]);\n\n  return CanvasState;\n}();\n\n/************************/\n/***** CanvasState ******/\n/*** Static Functions ***/\n/************************/\n\n\nexports.default = CanvasState;\nCanvasState.getMouse = function (e) {\n  return { x: e.offsetX, y: e.offsetY };\n};\n\nCanvasState.flipColor = function (shape) {\n  if (shape.fillColor == \"#000000\") {\n    shape.fillColor = \"#FFFFFF\";\n  } else {\n    shape.fillColor = \"#000000\";\n  }\n};\n\nCanvasState.getMirror = function (index, numRows) {\n  // Return a given square's mirrored square (across the y-axis)\n  if (index === 0) {\n    return Math.floor(numRows * (numRows - 1));\n  }\n\n  var nOrZero = index % numRows === 0 ? numRows : 0;\n  return numRows * numRows - numRows * Math.ceil(index / numRows) + index % numRows - nOrZero;\n};"]}