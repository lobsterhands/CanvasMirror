{"version":3,"sources":["mirrorDraw_browser.js"],"names":[],"mappings":"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","file":"mirrorDraw_browser-compiled.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Created by Lyle Denman on 5/20/16.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n/************************/\n/*** CanvasState class **/\n/************************/\n\n\nvar _Square = require('./Square');\n\nvar _Square2 = _interopRequireDefault(_Square);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CanvasState = function () {\n  function CanvasState(canvas, numRows, squareDim) {\n    _classCallCheck(this, CanvasState);\n\n    this.canvas = canvas;\n    this.numRows = numRows;\n    this.squareDim = squareDim;\n    this.shapes = []; // Store the shapes drawn to the canvas\n    this.listenMousedown();\n    this.ctx = canvas.getContext('2d');\n  }\n\n  _createClass(CanvasState, [{\n    key: 'listenMousedown',\n    value: function listenMousedown() {\n      var _this = this;\n\n      this.canvas.addEventListener('mousedown', function (e) {\n        var mouse = CanvasState.getMouse(e);\n        var mx = mouse.x;\n        var my = mouse.y;\n\n        var shapeIndex = _this.getShapeIndexAt(mx, my);\n        if (shapeIndex != -1) {\n          var mirrorIndex = CanvasState.getMirror(shapeIndex, _this.numRows);\n\n          if (mirrorIndex != shapeIndex) {\n            // If numRows is odd, a shape in the center column has itself as a mirror\n            // So no need to flipColor() twice\n            CanvasState.flipColor(_this.shapes[mirrorIndex]);\n          }\n          CanvasState.flipColor(_this.shapes[shapeIndex]);\n          _this.ctx.clearRect(0, 0, _this.canvas.width, _this.canvas.height); // clear canvas\n          _this.drawSquares(); // draw board\n        }\n      });\n    }\n  }, {\n    key: 'createSquares',\n    value: function createSquares() {\n      var count = 0;\n      for (var x = 0; x < this.canvas.width; x += this.squareDim) {\n        for (var y = 0; y < this.canvas.height; y += this.squareDim) {\n          this.shapes[count] = new _Square2.default(x, y, this.squareDim);\n          count++;\n        }\n      }\n    }\n  }, {\n    key: 'drawSquares',\n    value: function drawSquares() {\n      for (var i = 0; i < this.shapes.length; i++) {\n        if (this.shapes[i] !== undefined) {\n          this.shapes[i].draw(this.ctx);\n        }\n      }\n    }\n  }, {\n    key: 'getShapeIndexAt',\n    value: function getShapeIndexAt(x, y) {\n      for (var i = 0; i < this.shapes.length; i++) {\n        if (this.shapes[i] !== undefined) {\n          if (x >= this.shapes[i].x && x < this.shapes[i].x + this.squareDim) {\n            if (y >= this.shapes[i].y && y < this.shapes[i].y + this.squareDim) {\n              return i;\n            }\n          }\n        }\n      }\n      return -1; // Error: no shape found\n    }\n  }]);\n\n  return CanvasState;\n}();\n\n/************************/\n/***** CanvasState ******/\n/*** Static Functions ***/\n/************************/\n\n\nexports.default = CanvasState;\nCanvasState.getMouse = function (e) {\n  return { x: e.offsetX, y: e.offsetY };\n};\n\nCanvasState.flipColor = function (shape) {\n  if (shape.fillColor == \"#000000\") {\n    shape.fillColor = \"#FFFFFF\";\n  } else {\n    shape.fillColor = \"#000000\";\n  }\n};\n\nCanvasState.getMirror = function (index, numRows) {\n  // Return a given square's mirrored square (across the y-axis)\n  if (index === 0) {\n    return Math.floor(numRows * (numRows - 1));\n  }\n\n  var nOrZero = index % numRows === 0 ? numRows : 0;\n  return numRows * numRows - numRows * Math.ceil(index / numRows) + index % numRows - nOrZero;\n};\n},{\"./Square\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/************************/\n/***** Square class *****/\n/************************/\n\nvar Square = function () {\n  function Square(x, y, w, fillColor) {\n    _classCallCheck(this, Square);\n\n    this.x = x || 0; // Default to 0 if no x provided, etc\n    this.y = y || 0;\n    this.width = w || 1;\n    this.height = w || 1;\n    this.fillColor = fillColor || \"#FFFFFF\";\n  }\n\n  _createClass(Square, [{\n    key: \"draw\",\n    value: function draw(ctx) {\n      // Draw square to canvas\n      ctx.fillStyle = this.fillColor;\n      ctx.fillRect(this.x, this.y, this.width, this.height);\n    }\n  }]);\n\n  return Square;\n}();\n\nexports.default = Square;\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _CanvasData = require('./CanvasData');\n\nvar _CanvasData2 = _interopRequireDefault(_CanvasData);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  /************************/\n  /****   MAIN EVENT   ****/\n  /************************/\n  var canvas = document.getElementById('canvas');\n  var canvasDim = canvas.width;\n  // Update canvas dimensions for pixel-perfection\n  var numRows = 9;\n  while (canvasDim % numRows !== 0) {\n    canvasDim++;\n  }\n  canvas.width = canvas.height = canvasDim;\n\n  var squareDim = canvasDim / numRows; // Set dimensions of the square\n\n  var drawingBoard = new _CanvasData2.default(canvas, numRows, squareDim);\n  drawingBoard.createSquares();\n  drawingBoard.drawSquares();\n})(); /**\n       * Created by Lyle Denman on 5/14/16.\n       * With lots of help from: www.simonsarris.com/blog/510-making-html5-canvas-useful\n       */\n// import name from './Square';\n},{\"./CanvasData\":1}]},{},[3]);\n"]}